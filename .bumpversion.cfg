[bumpversion]
current_version = 0.0.2
commit = False
tag = False
parse = (?P<major>\d+)\.(?P<minor>\d+)\.(?P<patch>\d+)(-(?P<prerelease>alpha|beta|rc)\.(?P<prenum>\d+))?
serialize =
    {major}.{minor}.{patch}-{prerelease}.{prenum}
    {major}.{minor}.{patch}
# Note: commit and tag are False because GitHub Actions handles these

[bumpversion:part:prerelease]
optional_value = final
first_value = alpha
values =
    alpha
    beta
    rc
    final

[bumpversion:part:prenum]
first_value = 1

# Platform workspace
[[bumpversion:file:agentarea-platform/pyproject.toml]]
search = version = "{current_version}"
replace = version = "{new_version}"

# Platform API
[[bumpversion:file:agentarea-platform/apps/api/pyproject.toml]]
search = version = "{current_version}"
replace = version = "{new_version}"

# Platform Worker
[[bumpversion:file:agentarea-platform/apps/worker/pyproject.toml]]
search = version = "{current_version}"
replace = version = "{new_version}"

# Platform libs
[[bumpversion:file:agentarea-platform/libs/agentarea-agents-sdk/pyproject.toml]]
search = version = "{current_version}"
replace = version = "{new_version}"

[[bumpversion:file:agentarea-platform/libs/agents/pyproject.toml]]
search = version = "{current_version}"
replace = version = "{new_version}"

[[bumpversion:file:agentarea-platform/libs/common/pyproject.toml]]
search = version = "{current_version}"
replace = version = "{new_version}"

[[bumpversion:file:agentarea-platform/libs/context/pyproject.toml]]
search = version = "{current_version}"
replace = version = "{new_version}"

[[bumpversion:file:agentarea-platform/libs/execution/pyproject.toml]]
search = version = "{current_version}"
replace = version = "{new_version}"

[[bumpversion:file:agentarea-platform/libs/llm/pyproject.toml]]
search = version = "{current_version}"
replace = version = "{new_version}"

[[bumpversion:file:agentarea-platform/libs/mcp/pyproject.toml]]
search = version = "{current_version}"
replace = version = "{new_version}"

[[bumpversion:file:agentarea-platform/libs/secrets/pyproject.toml]]
search = version = "{current_version}"
replace = version = "{new_version}"

[[bumpversion:file:agentarea-platform/libs/tasks/pyproject.toml]]
search = version = "{current_version}"
replace = version = "{new_version}"

[[bumpversion:file:agentarea-platform/libs/triggers/pyproject.toml]]
search = version = "{current_version}"
replace = version = "{new_version}"

# Bootstrap
[[bumpversion:file:agentarea-bootstrap/pyproject.toml]]
search = version = "{current_version}"
replace = version = "{new_version}"

# Frontend
[[bumpversion:file:agentarea-webapp/package.json]]
search = "version": "{current_version}"
replace = "version": "{new_version}"

# Root VERSION file
[[bumpversion:file:VERSION]]
search = {current_version}
replace = {new_version}

# Helm Chart version
[[bumpversion:file:charts/agentarea/Chart.yaml]]
search = version: {current_version}
replace = version: {new_version}
