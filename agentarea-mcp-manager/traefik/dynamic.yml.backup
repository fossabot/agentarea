http:
    routers:
        mcp-manager-health:
            rule: Path(`/health`)
            service: mcp-manager-service
            entryPoints:
                - web
        mcp-manager-api:
            rule: PathPrefix(`/api/mcp`)
            service: mcp-manager-service
            entryPoints:
                - web
            middlewares:
                - mcp-api-stripprefix
        mcp-manager-catchall:
            rule: "!PathPrefix(`/mcp/`) && !PathPrefix(`/api/mcp`)"
            service: mcp-manager-service
            entryPoints:
                - web
    services:
        mcp-manager-service:
            loadBalancer:
                servers:
                    - url: http://localhost:8000
    middlewares:
        mcp-api-stripprefix:
            stripPrefix:
                prefixes:
                    - /api/mcp
                forceSlash: false
        mcp-stripprefix:
            stripPrefix:
                prefixes:
                    - /mcp
                forceSlash: false
